<UserControl
    x:Class="RpaWinUiComponentsPackage.AdvancedWinUiDataGrid.AdvancedDataGrid"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:RpaWinUiComponentsPackage.AdvancedWinUiDataGrid"
    HorizontalAlignment="Stretch" 
    VerticalAlignment="Stretch">
    
    <UserControl.Resources>
        <local:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
    </UserControl.Resources>
    
    <Grid x:Name="RootGrid" Background="White" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" 
          KeyDown="RootGrid_KeyDown"
          IsTabStop="True"
          TabIndex="1">
        <!-- ScrollViewer with AUTO scrollbars - show only when needed -->
        <ScrollViewer x:Name="MainScrollViewer" 
                      ZoomMode="Disabled" 
                      HorizontalScrollMode="Enabled" 
                      VerticalScrollMode="Enabled" 
                      HorizontalScrollBarVisibility="Visible" 
                      VerticalScrollBarVisibility="Visible"
                      HorizontalAlignment="Stretch" 
                      VerticalAlignment="Stretch"
                      Background="Transparent"
                      PointerWheelChanged="MainScrollViewer_PointerWheelChanged">
            
            <!-- Main content grid with full width/height support -->
            <Grid x:Name="MainContentGrid" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="Auto" Height="Auto">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/> <!-- Headers - fixed height -->
                    <RowDefinition Height="*"/> <!-- Data rows - fill remaining space -->
                </Grid.RowDefinitions>
            
            <!-- HEADERS - Using StackPanel with proper stretching -->
            <StackPanel x:Name="HeadersPanel" 
                        Grid.Row="0" 
                        Orientation="Horizontal"
                        HorizontalAlignment="Stretch"
                        Width="Auto"
                        MinHeight="30"
                        Background="#E0E0E0"/>
            
            <!-- DATA ROWS - Using StackPanel with proper stretching -->
            <StackPanel x:Name="DataRowsPanel" 
                        Grid.Row="1" 
                        Orientation="Vertical"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Top"
                        Width="Auto"/>
            
            </Grid>
        </ScrollViewer>
        
        <!-- Fallback text - hidden when data is available -->
        <TextBlock x:Name="FallbackText" Text="DataGrid Ready" HorizontalAlignment="Center" VerticalAlignment="Center" 
                   Foreground="Gray" FontSize="12" Visibility="Visible"/>
    </Grid>
        
</UserControl>